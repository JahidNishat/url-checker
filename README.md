# Distributed URL Checker

**Production-quality, horizontally scalable URL checking system in Go + Redis.**

## ğŸš€ Quick Start

### 1. Install Dependencies
```bash

go get github.com/go-redis/redis/v8
```
### 2. Start Redis
```bash

redis-server
```
### 3. Generate Test URLs
```bash

go run generate_urls.go 10000
```
### 4. Run Producer
```bash

go run producer.go common.go config.go urls.txt
```
### 5. Start Workers (3 terminals)
```bash

# Terminal 1
go run worker.go common.go config.go worker-1

# Terminal 2
go run worker.go common.go config.go worker-2

# Terminal 3
go run worker.go common.go config.go worker-3
```
### 6. Monitor Progress
```bash

go run monitor.go common.go config.go
```
### 7. (Optional) API Server
```bash

go run api.go common.go config.go

# Query it:
curl http://localhost:8080/stats
curl http://localhost:8080/results
```
## âš™ï¸ Configuration
Set environment variables:

```bash

export REDIS_ADDR=localhost:6379
export HTTP_TIMEOUT=5
export WORKER_TIMEOUT=1
export MAX_RETRIES=5
export RESULTS_TO_KEEP=10000
```
## ğŸ“Š Performance
- 3 workers: ~300 URLs/sec
- 10 workers: ~1,000 URLs/sec
- 50 workers: ~5,000 URLs/sec
## ğŸ—ï¸ Architecture
```text
Producer â†’ Redis Queue â†’ Workers â†’ Redis Results â†’ Monitor/API
```
## ğŸ“ Files
- `common.go` - Shared types and functions
- `config.go` - Configuration management
- `producer.go` - Enqueues URLs to Redis
- `worker.go` - Processes URLs (stateless, scalable)
- `monitor.go` - Real-time progress display
- `api.go` - REST API for queries
- `generate_urls.go` - Test data generator
## ğŸ“ System Design Concepts
- **Horizontal Scaling** - Add more workers = more throughput
- **Stateless Workers** - No in-memory state, all in Redis
- **Queue-Based** - Natural load balancing
- **CAP Theorem** - CP system (consistency over availability)

# ğŸ“‚ COMPLETE FILE STRUCTURE
```text
url-checker/
â”œâ”€â”€ common.go â† Shared types (URLResult, Stats, Redis client)
â”œâ”€â”€ config.go â† Configuration from environment
â”œâ”€â”€ producer.go â† Enqueues URLs to Redis
â”œâ”€â”€ worker.go â† Processes URLs (run multiple instances)
â”œâ”€â”€ monitor.go â† Real-time progress display
â”œâ”€â”€ api.go â† REST API server
â”œâ”€â”€ generate_urls.go â† Creates test data
â”œâ”€â”€ urls.txt â† Generated by generate_urls.go
â””â”€â”€ README.md â† Documentation
```

---

# ğŸš€ STEP-BY-STEP TO RUN

## **Step 1: Install Redis**

```bash

# macOS
brew install redis
brew services start redis

# Or run manually
redis-server
```
Step 2: Install Go dependency
```bash

go get github.com/go-redis/redis/v8
```
Step 3: Create all files
Copy each file above exactly as shown. Make sure:

- All files are in the same directory
- File names match exactly
- No extra spaces or characters
Step 4: Generate test data
```bash

go run generate_urls.go 1000
Output: âœ… Generated 1000 URLs in urls.txt
```
Step 5: Run Producer
```bash

go run producer.go common.go config.go urls.txt
```
Output:

```text

âœ… Connected to Redis
ğŸ—‘ï¸  Cleared previous data
âœ… Enqueued 1000 URLs in 0.05 seconds
ğŸ“Š Average: 20000 URLs/sec
ğŸš€ Ready to start workers!
```
Step 6: Start Workers
Terminal 1:

```bash

go run worker.go common.go config.go worker-1
```
Terminal 2:

```bash

go run worker.go common.go config.go worker-2
```
Terminal 3:

```bash

go run worker.go common.go config.go worker-3
```
Step 7: Monitor
Terminal 4:

```bash

go run monitor.go common.go config.go
```
You'll see:

```text

ğŸ“Š Queue:    750 | âš™ï¸  Processing:   3 | âœ… Success:    247 | âŒ Error:   0 | Progress:  24.7% | Rate: 50/s | ETA: 15s
```